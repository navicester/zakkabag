{% load myform %}
{% load i18n %}
{% load pagination_tags %}

<style type="text/css">

.header{
    padding: 10px 0 10px; 
    background-color: #a5d2e8; 
    border: 1px solid #337ab7;
}


.body div:hover{
    background-color: #d9f6f7;
}

a:link {text-decoration: none;}
a:visited {text-decoration: none;}
a:active {text-decoration: none;}
a:hover {text-decoration: none;}

.row1, .row2{
    padding: 5px 0 5px; 
}

.row2{
    background-color: #d9edf7; 
}

.col1, .col2, .col3{
    width:25%;
    float: left;
}

.col4{
    float: left;
    width:10%;
}

.col5{
    width: 15%;
}


@screen-xs-max: 767px;
@screen-sm-min : 758px;
@screen-sm-max : 991px;
@screen-md-min : 992px;
@screen-md-max : 1119px;
@screen-lg-min : 1200px;

@media (max-width: @screen-xs-max) { .row2{background-color: red;  }}
@media (min-width: @screen-sm-min) and (max-width: @screen-sm-max) { .row2{background-color: green;  }}
@media (min-width: @screen-md-min) and (max-width: @screen-md-max) { background-color: black;  }
@media (min-width: @screen-lg-min) { background-color: red; }


input[type=''], input[type='number'], div.body input[type='checkbox'], input[type='text'], textarea, select{
    width: 100%;
    height: 34px;
    padding: 3px 3px;
    margin:0;
    font-size: 14px;
    line-height: 1.42857143;
    color: #555;
    background-color: #fff;
    background-image: none;
    border: 1px solid #ccc;
    border-radius: 4px;
}




</style>


<div class="text-center">
	<h4>{% trans 'Shelf Inspections Record' %}</h4>
    <div class="row header">
        {% for field in formset.0 %}
            {% if not field.name in formset.0.Meta.hidden %}
            <div class="{% cycle 'col1' 'col2' 'col3' 'col4' %}">{{field.label}}</div>
            {% endif %}
        {% endfor %}
            <div class="col5"></div>
    </div>
    <div class="body">
        {% autopaginate formset 10 %}
        {% for form in formset %}        
        <form method="POST" class="ajaxform" id="id_form-{{forloop.counter0}}" action=''>{% csrf_token %}
            <div id='id_tr-{{forloop.counter0}}' class="row {% cycle 'row1' 'row2' %} body">
                {% for field in form %}
                    {% if field.name in form.Meta.hidden %}
                        <div style="display:none; float: left;clear: both" type='hidden' >{{field}}</div>
                    {% else %}
                    <div class="{% cycle 'col1' 'col2' 'col3' 'col4' %}">
                        {% if field.name in form.Meta.hidden_form %}
                            <p style="display:none" type='hidden'>{{field}}</p>
                            {% if 'shelf' == field.name %}<a href="{% url 'shelf_detail' form.instance.shelf.id %}" >{% endif %}
                                {{form.instance.shelf}}
                            {% if 'shelf' == field.name %}</a>{% endif %}
                        {% elif field.name in form.Meta.disabled %}
                            <p>{{form.instance|get_field_value:field.name}}</p>
                        {% else %}
                            <p class="displayonly" style="display: block; {% if field.name == 'gradient' and form.instance.gradient > 1.4 %} background-color:#f2dede; {% endif %}">{{form.instance|get_field_value:field.name}}</p>
                            <p class="edit" style="display: none">{{field}}</p>
                        {% endif%}  
                    </div>
                    {% endif %}

                {% endfor %}

                <div class="col5 text-left">
                    <i class="fa fa-1x fa-pencil-square-o edit-fields" aria-hidden="true" ></i>
                    <input type="image" value=" " class="fa fa-2x fa-check check-fields"  style="display: none; padding-right: 0; margin-right: 0; clear:both;float:left;" />
                    <i class="fa fa-2x fa-times close-fields" aria-hidden="true" style="display: none"></i>
                    <div id='blank'></div>
                </div>                
            </div>
        </form>
        <div class="text-center">
        
        </div>
        {% endfor %}
        {% paginate %}
    </div>
</div>
